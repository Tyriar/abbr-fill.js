/*! abbr-fill.js | (c) 2014 Daniel Imms | github.com/Tyriar/abbr-fill.js/blob/master/LICENSE */
var abbrFill=function(){"use strict";function a(a){if(a&&a.terms&&a.selector){e=a;for(var c=document.querySelectorAll(e.selector),d=0;d<c.length;d++)b(c[d])}}function b(a){for(var b in e.terms)e.terms.hasOwnProperty(b)&&d(a,new RegExp("(^|\\s)"+b+"($|\\s|\\.|,)","g"),c)}function c(a,b){if("abbr"===a.parentNode.tagName.toLowerCase())return void(a.data=b);" "===b[0]&&(a.data+=" "),b.length>0&&" "===b[b.length-1]&&(a.nextSibling.data=" "+a.nextSibling.data);var c=b.trim(),d=c[c.length-1];if("."===d||","===d){var f=c.substring(0,c.length-1);f in e.terms&&(c=f,a.nextSibling.data=d+a.nextSibling.data)}if(!(c in e.terms))throw'Unexpected error: The text "'+c+" didn't match any terms";var g=document.createElement("abbr");g.innerHTML=c,g.title=e.terms[c],a.parentNode.insertBefore(g,a.nextSibling)}function d(a,b,c){var e=["script","style","iframe","canvas"],f=a.firstChild;if(!f)return a;var g=function(a){var b=[].slice.call(arguments),d=b[b.length-2],e=f.splitText(d);e.data=e.data.substr(a.length),c.apply(window,[f].concat(b)),f=e};do{switch(f.nodeType){case 1:if(e.indexOf(f.tagName.toLowerCase())>-1)continue;d(f,b,c,e);break;case 3:f.data.replace(b,g)}f=f.nextSibling}while(f);return a}var e;return a}();