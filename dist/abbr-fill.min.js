/*! find-and-wrap.js | (c) 2014 Daniel Imms | github.com/Tyriar/abbr-fill/blob/master/LICENSE */
var findAndWrap=function(){"use strict";function a(a,c,d){return d=d.toLowerCase(),b(a,c,new RegExp("(^|\\s)"+c+"($|\\s|\\.|,)","g"),d)}function b(a,d,e,f){var g=["script","style","iframe","canvas"],h=a.firstChild,i=[];if(!h)return i;var j=function(a){var b=[].slice.call(arguments),e=b[b.length-2],g=h.splitText(e);g.data=g.data.substr(a.length);var j=c.apply(window,[h,d,f].concat(b));j&&(i=i.concat(j)),h=g};do{switch(h.nodeType){case Node.ELEMENT_NODE:if(g.indexOf(h.tagName.toLowerCase())>-1)continue;i=i.concat(b(h,d,e,f));break;case Node.TEXT_NODE:h.data.replace(e,j)}h=h.nextSibling}while(h);return i}function c(a,b,c,d,e){if(a.parentNode.tagName.toLowerCase()===c)return void(a.data=d);" "===d[0]&&(a.data+=" "),d.length>0&&" "===d[d.length-1]&&(a.nextSibling.data=" "+a.nextSibling.data);var f=d.trim(),g=f[f.length-1];if("."===g||","===g){var h=f.substring(0,f.length-1);h===b&&(f=h,a.nextSibling.data=g+a.nextSibling.data)}if(f!==b)throw'Unexpected error: The text "'+f+" didn't match the term \""+b+'"';var i=document.createElement(c);return i.innerHTML=f,a.parentNode.insertBefore(i,a.nextSibling),i}return a}(),abbrFill=function(a){"use strict";function b(a){if(a&&a.terms&&a.selector){d=a;for(var b=document.querySelectorAll(d.selector),e=0;e<b.length;e++)c(b[e])}}function c(b){for(var c in d.terms)if(d.terms.hasOwnProperty(c)){var e=a(b,c,"abbr");if(!e.length)continue;for(var f=0;f<e.length;f++)e[f].title=d.terms[c]}}var d;return b}(findAndWrap);